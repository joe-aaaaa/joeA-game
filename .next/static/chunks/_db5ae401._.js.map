{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/yachiao_/Documents/GitHub/joeA-game/src/app/game/game1/page.js"],"sourcesContent":["'use client';\nimport { useRouter } from 'next/navigation';\nimport { useEffect, useRef, useState } from 'react';\nimport { useError } from '@/contexts/ErrorContext';\n\nconst BASE_WIDTH = 1920;\nconst BASE_HEIGHT = 1080;\n\nexport default function Game1() {\n  const router = useRouter();\n  const containerRef = useRef();\n  const image2Ref = useRef();\n\n  const [scale, setScale] = useState(1);\n  const [localXs, setLocalXs] = useState([]);\n  const { errorCount, incrementError } = useError();\n  const debug = false;\n\n  // 畫面縮放與置中\n  useEffect(() => {\n    const resize = () => {\n      const container = containerRef.current;\n      const scaleX = window.innerWidth / BASE_WIDTH;\n      const scaleY = window.innerHeight / BASE_HEIGHT;\n      const newScale = Math.min(scaleX, scaleY);\n      const offsetX = (window.innerWidth - BASE_WIDTH * newScale) / 2;\n      const offsetY = (window.innerHeight - BASE_HEIGHT * newScale) / 2;\n\n      container.style.transform = `scale(${newScale})`;\n      container.style.left = `${offsetX}px`;\n      container.style.top = `${offsetY}px`;\n\n      setScale(newScale);\n    };\n    resize();\n    window.addEventListener('resize', resize);\n    return () => window.removeEventListener('resize', resize);\n  }, []);\n\n  // 三次錯誤跳轉 BE\n  useEffect(() => {\n    if (errorCount >= 3) {\n      router.push('/game/be');\n    }\n  }, [errorCount]);\n\n  const handleCorrectClick = (e) => {\n    e.stopPropagation();\n    router.push('/game/game2');\n  };\n\n  const handleWrongClick = (e) => {\n    if (!image2Ref.current) return;\n\n    const imageRect = image2Ref.current.getBoundingClientRect();\n    const clickX = e.clientX;\n    const clickY = e.clientY;\n\n    if (\n      clickX >= imageRect.left &&\n      clickX <= imageRect.right &&\n      clickY >= imageRect.top &&\n      clickY <= imageRect.bottom\n    ) {\n      const containerRect = containerRef.current.getBoundingClientRect();\n      const x = (clickX - containerRect.left) / scale;\n      const y = (clickY - containerRect.top) / scale;\n\n      const id = Date.now();\n      setLocalXs((prev) => [...prev, { id, x, y }]);\n\n      // 自動清除 0.8 秒後 ❌\n      setTimeout(() => {\n        setLocalXs((prev) => prev.filter((mark) => mark.id !== id));\n      }, 800);\n\n      incrementError();\n    }\n  };\n\n  return (\n    <div\n      className=\"w-screen h-screen relative overflow-hidden\"\n      style={{ backgroundColor: 'black' }}\n      onClick={handleWrongClick}\n    >\n      <div\n        ref={containerRef}\n        style={{\n          width: `${BASE_WIDTH}px`,\n          height: `${BASE_HEIGHT}px`,\n          position: 'absolute',\n          transformOrigin: 'top left',\n          backgroundColor: '#feeac5',\n          overflow: 'hidden',\n        }}\n      >\n        <img\n          src=\"/photo/bg2.png\"\n          alt=\"背景\"\n          className=\"absolute\"\n          style={{\n            top: '-17%',\n            left: '-45%',\n            width: '100%',\n            height: 'auto',\n            zIndex: 0,\n          }}\n        />\n\n        <img\n          src=\"/photo/1-1.png\"\n          alt=\"裝飾1\"\n          className=\"absolute\"\n          style={{\n            top: '3%',\n            left: '14%',\n            width: '540px',\n            height: 'auto',\n            zIndex: 1,\n          }}\n        />\n        <img\n          ref={image2Ref}\n          src=\"/photo/1-2.png\"\n          alt=\"裝飾2\"\n          className=\"absolute\"\n          style={{\n            top: '0%',\n            right: '4%',\n            width: 'auto',\n            height: '100%',\n            zIndex: 1,\n            cursor: 'pointer',\n          }}\n        />\n\n        <div\n          onClick={handleCorrectClick}\n          style={{\n            position: 'absolute',\n            top: '73%',\n            left: '74.5%',\n            width: '110px',\n            height: '110px',\n            backgroundColor: debug ? 'rgba(255, 0, 0, 0.3)' : 'transparent',\n            borderRadius: '50%',\n            zIndex: 5,\n            cursor: 'pointer',\n          }}\n        />\n\n        {/* 即時 ❌，出現在點擊處並自動消失 */}\n        {localXs.map(({ id, x, y }) => (\n          <img\n            key={id}\n            src=\"/photo/X.png\"\n            alt=\"X\"\n            className=\"absolute pointer-events-none\"\n            style={{\n              top: `${y}px`,\n              left: `${x}px`,\n              transform: 'translate(-50%, -50%)',\n              width: '120px',\n              height: 'auto',\n              zIndex: 999,\n            }}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":["file:///Users/yachiao_/Documents/GitHub/joeA-game/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}