{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/yachiao_/Documents/GitHub/joeA-game/src/app/game/game3/page.js"],"sourcesContent":["'use client';\nimport { useRouter } from 'next/navigation';\nimport { useEffect, useRef, useState } from 'react';\nimport { useError } from '@/contexts/ErrorContext';\n\nconst BASE_WIDTH = 1920;\nconst BASE_HEIGHT = 1080;\n\nexport default function Game3() {\n  const router = useRouter();\n  const containerRef = useRef();\n  const image2Ref = useRef();\n\n  const [scale, setScale] = useState(1);\n  const [localXs, setLocalXs] = useState([]);\n  const [localOs, setLocalOs] = useState([]);\n  const { errorCount, incrementError } = useError();\n  const debug = false;\n\n  // 播放音效\n  const playSound = (sound) => {\n    const audio = new Audio(`/${sound}.mp3`);\n    audio.play();\n  };\n\n  useEffect(() => {\n    const resize = () => {\n      const container = containerRef.current;\n      const scaleX = window.innerWidth / BASE_WIDTH;\n      const scaleY = window.innerHeight / BASE_HEIGHT;\n      const newScale = Math.min(scaleX, scaleY);\n      const offsetX = (window.innerWidth - BASE_WIDTH * newScale) / 2;\n      const offsetY = (window.innerHeight - BASE_HEIGHT * newScale) / 2;\n      container.style.transform = `scale(${newScale})`;\n      container.style.left = `${offsetX}px`;\n      container.style.top = `${offsetY}px`;\n      setScale(newScale);\n    };\n    resize();\n    window.addEventListener('resize', resize);\n    return () => window.removeEventListener('resize', resize);\n  }, []);\n\n  useEffect(() => {\n    if (errorCount >= 3) {\n      router.push('/game/be');\n    }\n  }, [errorCount]);\n\n  const handleCorrectClick = (e) => {\n    e.stopPropagation();\n\n    const id = Date.now();\n    const clickX = e.clientX;\n    const clickY = e.clientY;\n    const containerRect = containerRef.current.getBoundingClientRect();\n    const x = (clickX - containerRect.left) / scale;\n    const y = (clickY - containerRect.top) / scale;\n\n    setLocalOs((prev) => [...prev, { id, x, y }]);\n\n    playSound('correct');\n\n    setTimeout(() => {\n      setLocalOs((prev) => prev.filter((mark) => mark.id !== id));\n      router.push('/game/he');\n    }, 800);\n  };\n\n  const handleWrongClick = (e) => {\n    if (!image2Ref.current) return;\n\n    const imageRect = image2Ref.current.getBoundingClientRect();\n    const clickX = e.clientX;\n    const clickY = e.clientY;\n\n    if (\n      clickX >= imageRect.left &&\n      clickX <= imageRect.right &&\n      clickY >= imageRect.top &&\n      clickY <= imageRect.bottom\n    ) {\n      const containerRect = containerRef.current.getBoundingClientRect();\n      const x = (clickX - containerRect.left) / scale;\n      const y = (clickY - containerRect.top) / scale;\n\n      const id = Date.now();\n      setLocalXs((prev) => [...prev, { id, x, y }]);\n\n      playSound('error');\n\n      setTimeout(() => {\n        setLocalXs((prev) => prev.filter((mark) => mark.id !== id));\n      }, 800);\n\n      incrementError({ x, y });\n    }\n  };\n\n  return (\n    <div\n      className=\"w-screen h-screen relative overflow-hidden\"\n      style={{ backgroundColor: 'black' }}\n      onClick={handleWrongClick}\n    >\n      <div\n        ref={containerRef}\n        style={{\n          width: `${BASE_WIDTH}px`,\n          height: `${BASE_HEIGHT}px`,\n          position: 'absolute',\n          transformOrigin: 'top left',\n          backgroundColor: '#feeac5',\n          overflow: 'hidden',\n        }}\n      >\n        <img\n          src=\"/photo/bg2.png\"\n          className=\"absolute\"\n          style={{ top: '-17%', left: '-45%', width: '100%', height: 'auto', zIndex: 0 }}\n        />\n        <img\n          src=\"/photo/3-1.png\"\n          className=\"absolute\"\n          style={{ top: '3%', left: '14%', width: '540px', height: 'auto', zIndex: 1 }}\n        />\n        <img\n          ref={image2Ref}\n          src=\"/photo/3-2.png\"\n          className=\"absolute\"\n          style={{ top: '0%', right: '4%', width: 'auto', height: '100%', zIndex: 1, cursor: 'pointer' }}\n        />\n\n        <div\n          onClick={handleCorrectClick}\n          style={{\n            position: 'absolute',\n            top: '29%',\n            left: '74.5%',\n            width: '150px',\n            height: '150px',\n            backgroundColor: debug ? 'rgba(255, 0, 0, 0.3)' : 'transparent',\n            borderRadius: '50%',\n            zIndex: 5,\n            cursor: 'pointer',\n          }}\n        />\n\n        {localXs.map(({ id, x, y }) => (\n          <img\n            key={id}\n            src=\"/photo/X.png\"\n            alt=\"X\"\n            className=\"absolute pointer-events-none\"\n            style={{\n              top: `${y}px`,\n              left: `${x}px`,\n              transform: 'translate(-50%, -50%)',\n              width: '120px',\n              height: 'auto',\n              zIndex: 999,\n            }}\n          />\n        ))}\n\n        {localOs.map(({ id, x, y }) => (\n          <img\n            key={id}\n            src=\"/photo/O.png\"\n            alt=\"O\"\n            className=\"absolute pointer-events-none\"\n            style={{\n              top: `${y}px`,\n              left: `${x}px`,\n              transform: 'translate(-50%, -50%)',\n              width: '120px',\n              height: 'auto',\n              zIndex: 999,\n            }}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 264, "column": 0}, "map": {"version":3,"sources":["file:///Users/yachiao_/Documents/GitHub/joeA-game/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}